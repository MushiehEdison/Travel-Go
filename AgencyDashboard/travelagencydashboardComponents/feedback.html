<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../agencyDashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <title>Feedbacks</title>
</head>
<body>
    <div class="container-fluid">
         <!-- Collapsible Navbar for Small Screens -->
         <nav class="navbar navbar-expand-md navbar-light d-md-none">
            <a class="navbar-brand" href="agencyDashboard.html">Travel Agency</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="../agencyDashboard.html"><i class="fa-solid fa-house mx-2"></i> Overview</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/travelagencydashboardComponents/manageProfile.html"><i class="fa-solid fa-user mx-2"></i>Manage Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/travelagencydashboardComponents/routesSchedule.html"><i class="fa-solid fa-calendar-days mx-2"></i>Schedules</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/travelagencydashboardComponents/feedback.html"><i class="fas fa-comments mx-2"></i>Feedbacks</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/travelagencydashboardComponents/ppromotion.html"><i class="fa-solid fa-rectangle-ad mx-2"></i>Promotions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/travelagencydashboardComponents/statictics.html"><i class="fa-solid fa-chart-simple mx-2"></i>Statistics</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/travelagencydashboardComponents/setting.html"><i class="fa-solid fa-gear mx-2"></i>Settings</a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="row">
            <nav class="col-md-2 d-none d-md-block  sidebar">
                <div class="sidebar-sticky">
                    <ul class="nav flex-column">
                        <a href="../agencyDashboard.html"><li class="nav-item"><i class="fa-solid fa-house mx-2"></i> Overview</li></a>
                        <a href="manageProfile.html"><li class="nav-item"><i class="fa-solid fa-user mx-2"></i>Manage Profile</li></a>
                        <a href="routesSchedule.html"><li class="nav-item"><i class="fa-solid fa-calendar-days mx-2"></i> Schedules</li></a>
                        <a href="feedback.html"><li class="nav-item"><i class="fas fa-comments mx-2"></i>Feedbacks</li></a>
                        <a href="ppromotion.html"><li class="nav-item"><i class="fa-solid fa-rectangle-ad mx-2"></i>Promotions</li></a>
                        <a href="statictics.html"><li class="nav-item"><i class="fa-solid fa-chart-simple mx-2"></i>Statistics</li></a>
                        <a href="setting.html"><li class="nav-item"><i class="fa-solid fa-gear mx-2"></i>Settings</li></a>
                    </ul>
                </div>
            </nav>

            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
                <div class="header  d-flex justify-content-between align-items-center m-5">
                    <h1 class="h2">Customer FeedBack</h1>
                    <div class="user-info d-flex align-items-center">
                        <img src="../a24762f5-bd47-43d5-a5f5-552a55fd24fe.jpeg" alt="User Profile Picture" class="rounded-circle mr-2" width="80" height="80">
                        <span class="user-name">Spectrasoft</span>
                    </div>
                </div>
                <div class="feedback-categories d-flex justify-content-center my-4">
                    <button class="btn btn-primary mx-1" onclick="showFeedback(5)">5 Stars</button>
                    <button class="btn btn-primary mx-1" onclick="showFeedback(4)">4 Stars</button>
                    <button class="btn btn-primary mx-1" onclick="showFeedback(3)">3 Stars</button>
                    <button class="btn btn-primary mx-1" onclick="showFeedback(2)">2 Stars</button>
                    <button class="btn btn-primary mx-1" onclick="showFeedback(1)">1 Star</button>
                    <button class="btn btn-secondary mx-1" onclick="showAllFeedback()">All Feedbacks</button>
                </div>

                <div id="feedback-list" class="row">
                    <!-- Feedbacks will be inserted here by JavaScript -->
                </div>
            </main>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        // js/feedbacks.js
document.addEventListener("DOMContentLoaded", function() {
    // Sample feedback data
    const feedbackData = {
        5: [
            { name: "Jane Smith", feedback: "Had a wonderful experience.", rating: "★★★★★", img: "https://randomuser.me/api/portraits/women/1.jpg" },
        ],
        4: [
            { name: "John Doe", feedback: "Great service! Highly recommend.", rating: "★★★★☆", img: "https://randomuser.me/api/portraits/men/1.jpg" },
        ],
        3: [
            { name: "Mike Johnson", feedback: "Could improve on punctuality.", rating: "★★★☆☆", img: "https://randomuser.me/api/portraits/men/2.jpg" },
        ],
        2: [],
        1: []
    };

    // Function to show feedback based on rating
    window.showFeedback = function(rating) {
        const feedbackList = document.getElementById('feedback-list');
        feedbackList.innerHTML = '';

        if (feedbackData[rating].length === 0) {
            feedbackList.innerHTML = '<div class="col-12 list-group-item">No feedbacks available.</div>';
            return;
        }

        feedbackData[rating].forEach(feedback => {
            const feedbackItem = document.createElement('div');
            feedbackItem.className = 'col-md-6 col-lg-4 mb-4';
            feedbackItem.innerHTML = `
                <div class="card">
                    <div class="card-body d-flex">
                        <img src="${feedback.img}" alt="${feedback.name}" class="rounded-circle mr-3" width="50" height="50">
                        <div>
                            <h5>${feedback.name}</h5>
                            <p>${feedback.feedback}</p>
                            <small class="rating">${feedback.rating.split('').map(star => `<span>${star}</span>`).join('')}</small>
                            <div class="reply-section mt-2">
                                <textarea rows="2" placeholder="Write a reply..."></textarea>
                                <button class="btn btn-primary btn-sm mt-2">Reply</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            feedbackList.appendChild(feedbackItem);
        });
    }

    // Function to show all feedbacks
    window.showAllFeedback = function() {
        const feedbackList = document.getElementById('feedback-list');
        feedbackList.innerHTML = '';

        let allFeedbacks = [];
        for (const rating in feedbackData) {
            allFeedbacks = allFeedbacks.concat(feedbackData[rating]);
        }

        if (allFeedbacks.length === 0) {
            feedbackList.innerHTML = '<div class="col-12 list-group-item">No feedbacks available.</div>';
            return;
        }

        allFeedbacks.forEach(feedback => {
            const feedbackItem = document.createElement('div');
            feedbackItem.className = 'col-md-6 col-lg-4 mb-4';
            feedbackItem.innerHTML = `
                <div class="card">
                    <div class="card-body d-flex">
                        <img src="${feedback.img}" alt="${feedback.name}" class="rounded-circle mr-3" width="50" height="50">
                        <div>
                            <h5>${feedback.name}</h5>
                            <p>${feedback.feedback}</p>
                            <small class="rating">${feedback.rating.split('').map(star => `<span>${star}</span>`).join('')}</small>
                            <div class="reply-section mt-2">
                                <textarea rows="2" placeholder="Write a reply..."></textarea>
                                <button class="btn btn-primary btn-sm mt-2">Reply</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            feedbackList.appendChild(feedbackItem);
        });
    }

    // Show 5-star feedbacks by default
    showFeedback(5);
});
    </script>
</body>
</html>
